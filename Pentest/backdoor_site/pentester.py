import requests

# Este código foi escrito por [MSCHelp]
# Data: [19/05/23]
# Descrição: Este script envia comandos para um servidor Flask via uma requisição POST e imprime a resposta.
# Propósito: Ferramenta para pentesting - permite enviar comandos a um servidor para avaliação de segurança.

def validar_url(url):
    if url.startswith("http://") or url.startswith("https://"):
        return True
    return False

def main():
    # Solicita a URL do servidor
    url = input("Insira a URL do servidor (ex: http://127.0.0.1:5000/): ")
    
    if not validar_url(url):
        print("URL inválida. Certifique-se de que começa com 'http://' ou 'https://'.")
        return

    with requests.Session() as session:
        while True:
            # Solicita o comando desejado
            comando = input("Insira o comando a ser executado (ou 'sair' para terminar): ")

            # Verifica se o usuário deseja sair
            if comando.lower() == 'sair':
                print("Saindo...")
                break

            # Enviar solicitação POST com o comando como uma variável POST chamada 'nome'
            try:
                resposta = session.post(url, data={'nome': comando})
                resposta.raise_for_status()  # Verifica se a requisição teve sucesso
                print(resposta.text)
            except requests.exceptions.RequestException as e:
                print(f"Erro ao enviar solicitação POST: {e}")

if __name__ == '__main__':
    main()


   